{"version":3,"sources":["app/models/Pagination.ts","app/API/agent.ts","app/models/activity.ts","app/models/Profile.ts","app/store/ActivityStore.ts","app/store/CommentStore.ts","app/store/CommonStore.ts","app/store/modelStore.ts","app/store/ProfileStore.ts","app/store/UserStore.ts","app/store/Store.ts","app/layout/navbar.tsx","features/activities/dashboard/ActivityFilters.tsx","features/Profiles/FollowButton.tsx","features/Profiles/ProfileCard.tsx","features/activities/dashboard/ActivityListItemAttendee.tsx","features/activities/dashboard/ActivityListItem.tsx","features/activities/dashboard/ActivityList.tsx","features/activities/dashboard/ActivityListItemPlaceholder.tsx","features/activities/dashboard/ActivityDashboard.tsx","app/common/form/MyTextInput.tsx","features/users/LoginForm.tsx","features/error/ValidationError.tsx","features/users/registerForm.tsx","features/home/HomePage.tsx","app/layout/LoadingComponent.tsx","app/common/form/MyTextArea.tsx","app/common/form/MySelectInput.tsx","app/common/Options/CategoryOptions.ts","app/common/form/MyDateInput.tsx","features/activities/form/ActivityForm.tsx","features/activities/details/ActivityDetailChat.tsx","features/activities/details/ActivityDetailedInfo.tsx","features/activities/details/ActivityDetailHeader.tsx","features/activities/details/ActivityDetailSidebar.tsx","features/activities/details/ActivityDetails.tsx","features/error/NotFound.tsx","app/common/modal/modalContainer.tsx","features/Profiles/ProfileActivities.tsx","features/Profiles/ProfileFollowings.tsx","app/common/imageUpload/PhotoWidgetDropZone.tsx","app/common/imageUpload/PhotoWidgetCropper.tsx","app/common/imageUpload/PhotoUploadWidget.tsx","features/Profiles/ProfilePhotos.tsx","features/Profiles/ProfileContent.tsx","features/Profiles/ProfileHeader.tsx","features/Profiles/ProfilePage.tsx","app/layout/PrivateRoute.tsx","app/layout/App.tsx","reportWebVitals.ts","app/layout/ScrollToTop.tsx","index.tsx"],"names":["PaginatedResult","Object","createClass","data","pagination","classCallCheck","this","PagingParams","pageNumber","arguments","length","undefined","pageSize","pagenumber","PageSize","axios","defaults","baseURL","process","interceptors","request","use","config","token","store","commonStore","headers","Authorization","concat","response","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","JSON","parse","abrupt","stop","_x","apply","error","_ref2","status","method","errors","hasOwnProperty","modelStateErrors","key","push","flat","toast","Promise","reject","responseBody","requests","url","get","then","body","post","put","delete","agent","Activities","list","params","details","id","create","activity","update","attend","Account","current","login","user","register","fbLogin","accessToken","Profiles","username","uploadPhoto","file","formData","FormData","append","Content-type","setMainPhoto","deletePhoto","updateFollowing","listFollowings","predicate","listActivities","Activity","init","assign","ActivityFormValues","title","category","description","date","city","venue","Profile","userName","displayName","image","ActivityStore","_this","activityRegistry","Map","selectedActivity","editMode","loading","submitting","loadingInitials","pagingParams","set","setPagingParams","setPredicate","value","resetPrediciate","forEach","loadActivities","result","axiosParams","sent","runInAction","setActivity","setPagination","t0","console","log","loadActivity","_callee2","_context2","getActivity","_activity$attendees","userStore","isGoing","attendees","some","isHost","hostUserName","host","find","x","Date","createActivity","_ref3","_callee3","attendee","newActivity","_context3","_x2","updateActivity","_ref4","_callee4","_context4","objectSpread2","_x3","deleteActivity","_ref5","_callee5","_context5","_x4","updateAttendance","_callee6","_context6","_this$selectedActivit","_this$selectedActivit2","filter","_this$selectedActivit3","_this$selectedActivit4","finish","cancelActivityToggle","_callee7","_context7","_this$selectedActivit5","isCancelled","clearSelectedActivity","updateAttendeeFollowing","following","followerCount","makeAutoObservable","reaction","keys","clear","URLSearchParams","toString","toISOString","Array","from","values","sort","b","getTime","entries","activityByDate","reduce","activities","format","toConsumableArray","CommentStore","comments","hubConnection","createHubConnection","activityId","activityStore","HubConnectionBuilder","withUrl","accessTokenFactory","_store$userStore$user","withAutomaticReconnect","configureLogging","LogLevel","Information","build","start","catch","on","comment","createdAt","unshift","stopHubConnection","_this$hubConnection","clearComments","addComment","_store$activityStore$","_this$hubConnection2","invoke","CommonStore","window","localStorage","getItem","appLoaded","setServerError","setToken","setAppLoaded","setItem","removeItem","ModelStore","model","open","openModel","content","closeModel","ProfileStore","profile","loadingProfile","uploading","followings","loadingFollowings","activeTab","userActivities","loadingActivities","setActiveTab","loadProfile","photo","_this$profile$photos","photos","isMain","setImage","p","_this$profile$photos2","_store$userStore$user2","followingCount","_x5","_x6","loadFollowing","_ref6","_x7","loadUserActivities","_ref7","_x8","_x9","UserStore","fbAccessToken","fbLoading","creds","modalStore","history","logout","getUser","getFacebookLoginStatus","FB","getLoginStatus","authResponse","facebookLogin","apiLogin","scope","profileStore","commentStore","StoreContext","createContext","useStore","useContext","observer","_useStore$userStore","react_default","createElement","Menu","inverted","fixed","Container","Item","as","NavLink","to","header","src","alt","style","marginRight","name","Button","positive","position","Image","avatar","spaced","Dropdown","pointing","text","Link","icon","onClick","_useStore$activitySto","Fragment","vertical","size","width","marginTop","Header","attached","color","active","has","esm","onChange","_userStore$user","_useStore","Reveal","animated","Content","visible","fluid","hidden","basic","e","preventDefault","handleFollow","Card","Description","bio","extra","Icon","Profiles_FollowButton","borderColor","borderWidth","List","horizontal","map","Popup","hoverable","trigger","circular","bordered","Profiles_ProfileCard","ActivityListItem","_activity$host","_activity$host2","Segment","Group","Label","textAlign","marginBottom","react_router_dom","secondary","dashboard_ActivityListItemAttendee","clearing","floated","groupedActivities","slicedToArray","group","react","sub","ActivityListItemPlaceholder","Placeholder","minHeight","Line","Paragraph","disabled","_useState","useState","_useState2","loadingNext","setLoadingNext","useEffect","Grid","Column","react_infinite_scroller_default","pageStart","loadMore","CurrentPage","hasMore","totalPages","initialLoad","dashboard_ActivityList","ActivityFilters","Loader","MyTextInput","props","_useField","useField","_useField2","field","meta","Form","Field","touched","label","useNavigate","formik_esm","initialValues","email","password","onSubmit","setErrors","handleSubmit","isSubmitting","className","autoComplete","placeholder","type","render","colors","VaidationErrors","Message","err","i","validationSchema","Yup","required","isValid","dirty","isLoggedIn","users_LoginForm","registerForm","Divider","LoadingComponent","_ref$inverted","_ref$content","Dimmer","MyTextArea","MySelectInput","helpers","Select","clearable","options","d","setValue","onBlur","setTouched","categoryOptions","MyDateInput","react_datepicker_min_default","selected","navigate","useParams","nullable","enableReinitialize","uuid","handleFormSubmit","rows","placeholderText","showTimeSelect","timeCaption","dateFormat","border","resetForm","onKeyPress","shiftKey","Comment","Avatar","Author","Metadata","formatDistanceToNow","Text","whiteSpace","verticalAlign","activityImageStyle","activityImageTextStyle","bottom","left","height","padding","zindex","top","ribbon","_ref$activity","relaxed","divided","Extra","details_ActivityDetailHeader","ActivityDetailedInfo","details_ActivityDetailChat","details_ActivityDetailSidebar","NotFound","Inline","primary","Modal","onClose","panes","menuItem","pane","Tab","Pane","menu","onTabChange","activeIndex","handleTabChange","itemsPerRow","objectFit","Meta","PhotoWidgetDropZone","setFiles","dzStyles","borderRadius","paddingTop","onDrop","useCallback","acceptedFiles","preview","URL","createObjectURL","_useDropzone","useDropzone","getRootProps","getInputProps","isDragActive","PhotoWidgetCropper","imagePreview","setCropper","react_cropper_es","initialAspectRatio","aspectRatio","guides","viewMode","autoCropArea","background","onInitialized","cropper","PhotoUploadWidget","files","_useState3","_useState4","revokeObjectURL","overflow","widths","getCroppedCanvas","toBlob","blob","_profile$photos","_useStore$profileStor","isCurrentUser","addPhotoMode","setAddPhotoMode","target","setTarget","currentTarget","handleSetMainPhoto","handleDeletePhoto","Profiles_ProfilePhotos","Profiles_ProfileActivities","ProfileFollowings","menuPosition","Statistic","Profiles_ProfileHeader","Profiles_ProfileContent","PrivateRoute","children","react_router","replace","location","useLocation","finally","navbar","react_toastify_esm","hideProgressBar","modalContainer","path","element","home_HomePage","dashboard_ActivityDashboard","details_ActivityDetails","form_ActivityForm","Profiles_ProfilePage","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ScrollToTop","pathname","scrollTo","__webpack_exports__","src_history","createBrowserHistory","ReactDOM","Provider","layout_App","document","getElementById"],"mappings":"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","file":"static/js/main.6264cb42.chunk.js","sourcesContent":["export interface Pagination{\r\n    CurrentPage:number;\r\n    itemsPerPage:number;\r\n    totalItems:number;\r\n    totalPages:number;\r\n}\r\n\r\nexport class PaginatedResult<T>{\r\n    data:T;\r\n    pagination:Pagination;\r\n\r\n    constructor(data: T, pagination:Pagination)\r\n    {\r\n        this.data=data;\r\n        this.pagination=pagination;\r\n    }\r\n}\r\n\r\nexport class PagingParams{\r\n    pagenumber;\r\n    PageSize;\r\n    \r\n    constructor(pageNumber=1, pageSize=2)\r\n    {\r\n        this.pagenumber=pageNumber;\r\n        this.PageSize=pageSize;\r\n    }\r\n}","import axios, { AxiosError, AxiosResponse } from \"axios\";\r\nimport { toast } from \"react-toastify\";\r\nimport {Activity, ActivityFormValues} from '../models/activity';\r\nimport { PaginatedResult } from \"../models/Pagination\";\r\nimport { Photo, Profile, UserActivity } from \"../models/Profile\";\r\nimport { User, UserFormValues } from \"../models/User\";\r\nimport { store } from \"../store/Store\";\r\n\r\nconst sleep=(delay:number) =>{\r\n    return new Promise ((resolve)=>{\r\n        setTimeout(resolve, delay)\r\n    })\r\n}\r\n\r\n\r\naxios.defaults.baseURL=process.env.REACT_APP_API_URL;\r\n\r\naxios.interceptors.request.use(config=>{\r\n    const token=store.commonStore.token;\r\n    if(token) config.headers!.Authorization=`Bearer ${token}`\r\n    return config;\r\n})\r\n\r\naxios.interceptors.response.use(async response=>{\r\n        if(process.env.NODE_ENV === 'development') await sleep(1000);\r\n        const pagination=response.headers['pagination'];\r\n        if(pagination){\r\n            response.data=new PaginatedResult(response.data, JSON.parse(pagination));\r\n            return response as AxiosResponse<PaginatedResult<any>>;\r\n        }\r\n        return response;\r\n\r\n}, (error:AxiosError)=>{\r\n    const {data, status, config}=error.response!;\r\n    switch(status){\r\n        case 400:\r\n            if(config.method ==='get' && data.errors.hasOwnProperty('id')){\r\n                //history.push('not-found')\r\n            }\r\n            if(data.errors)\r\n            {\r\n                const modelStateErrors=[];\r\n                for(const key in data.errors)\r\n                {\r\n                    if(data.errors[key])\r\n                    {\r\n                        modelStateErrors.push(data.errors[key]);\r\n                    }\r\n                }    \r\n                throw modelStateErrors.flat();\r\n            }\r\n            else\r\n            {\r\n                toast.error(data);\r\n            }\r\n            break\r\n        case 401:\r\n            toast.error('unauthorised');\r\n            break;\r\n        case 404:\r\n            toast.error('not found');\r\n            break;\r\n        case 500:\r\n            toast.error('server error');\r\n            break;\r\n    }\r\n    return Promise.reject(error);\r\n})\r\nconst responseBody= <T>(response: AxiosResponse<T>)=>response.data;\r\n\r\nconst requests={\r\n    get: <T>(url:string)=>axios.get<T>(url).then(responseBody),\r\n    post: <T> (url:string, body:{})=>axios.post<T>(url, body).then(responseBody),\r\n    put:<T> (url:string, body:{})=>axios.put<T>(url, body).then(responseBody),\r\n    delete: <T>(url:string)=>axios.delete<T>(url).then(responseBody),\r\n}\r\n\r\nconst Activities={\r\n    list: (params:URLSearchParams)=>axios.get<PaginatedResult<Activity[]>>('/activities',{params}).then(responseBody),\r\n    details: (id:string)=>requests.get<Activity>(`/activities/${id}`),\r\n    create: (activity:ActivityFormValues)=>requests.post<void>('/activities', activity),\r\n    update: (activity: ActivityFormValues)=>requests.put<void>(`/activities/${activity.id}`, activity),\r\n    delete: (id:string)=>requests.delete<void>(`/activities/${id}`),\r\n    attend: (id:string)=>requests.post<void>(`/activities/${id}/attend`,{})\r\n}\r\n\r\nconst Account={\r\n    current:()=> requests.get<User>('/account'),\r\n    login:(user:UserFormValues)=>requests.post<User>('/account/login', user),\r\n    register:(user:UserFormValues)=>requests.post<User>('/account/register', user),\r\n    fbLogin:(accessToken:string)=>requests.post<User>(`/account/fbLogin?accessToken=${accessToken}`, {})\r\n}\r\n\r\nconst Profiles= {\r\n    get: (username: string)=> requests.get<Profile>(`/profiles/${username}`),\r\n    uploadPhoto:(file:Blob)=>{\r\n        let formData=new FormData();\r\n        formData.append('File', file);\r\n        return axios.post<Photo>('photos', formData,{\r\n            headers:{'Content-type':'multipart/form-data'}\r\n        })\r\n    },\r\n    setMainPhoto:(id:string)=>requests.post(`/photos/${id}/setMain`,{}),\r\n    deletePhoto:(id:string)=>requests.delete(`/photos/${id}`),\r\n    updateFollowing:(username:string)=>requests.post(`/follow/${username}`,{}),\r\n    listFollowings:(username:string, predicate:string)=>requests.get<Profile[]>(`/follow/${username}?predicate=${predicate}`),\r\n    listActivities:(username:string, predicate:string)=>requests.get<UserActivity[]>(`/profiles/${username}/activities?predicate=${predicate}`)\r\n}\r\nconst agent={\r\n    Activities,\r\n    Account,\r\n    Profiles\r\n}\r\n\r\nexport default agent;","import { Profile } from \"./Profile\";\r\n\r\nexport interface Activity {\r\n        id: string;\r\n        title: string;\r\n        date: Date | null;\r\n        description: string;\r\n        category: string;\r\n        city: string;\r\n        venue: string;\r\n        hostUserName:string;\r\n        isCancelled:boolean;\r\n        isGoing:boolean;\r\n        isHost:boolean;\r\n        host?:Profile;\r\n        attendees: Profile[]\r\n    }\r\n\r\n    export class Activity implements Activity{\r\n        constructor(init?:ActivityFormValues){\r\n            Object.assign(this, init);\r\n        }\r\n    }\r\n    \r\n    export class ActivityFormValues{\r\n        id?: string=undefined\r\n        title:string='';\r\n        category:string='';\r\n        description:string='';\r\n        date:Date | null=null;\r\n        city: string='';\r\n        venue:string='';\r\n\r\n        constructor(activity?:ActivityFormValues){\r\n            if(activity){\r\n                this.id=activity.id;\r\n                this.title=activity.description;\r\n                this.category=activity.category;\r\n                this.description=activity.description;\r\n                this.date=activity.date;\r\n                this.venue=activity.venue;\r\n                this.city=activity.city;\r\n            }\r\n        }\r\n    }","import { User } from \"./User\";\r\n\r\nexport interface Profile{\r\n    username:string;\r\n    displayName:string;\r\n    image?:string;\r\n    bio?:string;\r\n    followerCount:number;\r\n    followingCount:number;\r\n    following:boolean;\r\n    photos?:Photo[];\r\n}\r\n\r\nexport class Profile implements Profile{\r\n    constructor(user:User)\r\n    {\r\n        this.username=user.userName;\r\n        this.displayName=user.displayName;\r\n        this.image=user.image;\r\n    }\r\n}\r\n\r\nexport interface Photo\r\n{\r\n    id: string;\r\n    url: string;\r\n    isMain:boolean;\r\n}\r\n\r\nexport interface UserActivity {\r\n    id: string;\r\n    title: string;\r\n    category: string;\r\n    date: Date;\r\n   }","import { format } from \"date-fns\";\r\nimport {  makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport agent from \"../API/agent\";\r\nimport { Activity, ActivityFormValues } from \"../models/activity\";\r\nimport { Pagination, PagingParams } from \"../models/Pagination\";\r\nimport { Profile } from \"../models/Profile\";\r\nimport { store } from \"./Store\";\r\n\r\nexport default class ActivityStore{\r\n    activityRegistry=new Map<string, Activity>();\r\n    selectedActivity:Activity | undefined=undefined;\r\n    editMode=false;\r\n    loading=false;\r\n    submitting=false;\r\n    loadingInitials=false;\r\n    pagination: Pagination | null=null;\r\n    pagingParams=new PagingParams();\r\n    predicate=new Map().set('all', true);\r\n  \r\n    constructor(){\r\n        makeAutoObservable(this);\r\n\r\n        reaction(\r\n            ()=>this.predicate.keys(),\r\n            ()=>{this.pagingParams=new PagingParams();\r\n                this.activityRegistry.clear();\r\n                this.loadActivities();\r\n            }\r\n\r\n        )\r\n    }\r\n\r\n    setPagingParams=(pagingParams: PagingParams)=>{\r\n        this.pagingParams=pagingParams;\r\n    }\r\n\r\n    setPredicate=(predicate:string, value: string|Date)=>{\r\n        const resetPrediciate=()=>{\r\n            this.predicate.forEach((value, key)=>{\r\n                if(key!=='startDate') this.predicate.delete(key);\r\n            })\r\n        }\r\n        switch(predicate)\r\n        {\r\n            case 'all':\r\n                resetPrediciate();\r\n                this.predicate.set('all', true);\r\n                break;\r\n            case 'isGoing':\r\n                resetPrediciate();\r\n                this.predicate.set('isGoing', true);\r\n                break;\r\n            case 'isHost':\r\n                resetPrediciate();\r\n                this.predicate.set('isHost', true);\r\n                break;\r\n            case 'startDate':\r\n                this.predicate.delete('startDate');\r\n                this.predicate.set('startDate', value);\r\n                break;\r\n        }\r\n    }\r\n\r\n   get axiosParams() {\r\n       const params=new URLSearchParams();\r\n       params.append('pageNumber', this.pagingParams.pagenumber.toString());\r\n       params.append('pageSize', this.pagingParams.PageSize.toString());\r\n       this.predicate.forEach((value, key)=>{\r\n           if(key==='startDate')\r\n           {\r\n               params.append(key, (value as Date).toISOString());\r\n           }\r\n           else\r\n           {\r\n               params.append(key, value);\r\n           }\r\n       })\r\n       return params;\r\n   }\r\n    get activityByDate(){\r\n        return Array.from(this.activityRegistry.values()).sort((a,b)=>\r\n        a.date!.getTime()-b.date!.getTime());\r\n\r\n    }\r\n\r\n    get groupedActivities(){\r\n        return Object.entries(\r\n            this.activityByDate.reduce((activities, activity)=>{\r\n                const date = format(activity.date!, 'dd MMM yyyy');\r\n                activities[date]=activities[date]?[...activities[date], activity]:[activity];\r\n                return activities;\r\n            }, {} as {[key:string]:Activity[]})\r\n        )\r\n    }\r\n\r\n    loadActivities= async ()=>{\r\n        this.loadingInitials=true;\r\n        try{\r\n            const result=await agent.Activities.list(this.axiosParams);\r\n            runInAction(()=>{\r\n                result.data.forEach(activity => {\r\n                    this.setActivity(activity);\r\n                  });\r\n                this.setPagination(result.pagination);  \r\n                this.loadingInitials=false;\r\n            })\r\n        }catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>{\r\n                this.loadingInitials=false;\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    setPagination=(pagination:Pagination)=>{\r\n        this.pagination=pagination;\r\n    }\r\n\r\n    loadActivity=async (id:string)=>{\r\n        let activity=this.getActivity(id);\r\n        if(activity)\r\n        {\r\n            this.selectedActivity=activity;\r\n            return activity;\r\n        }\r\n        else\r\n        {\r\n            this.loadingInitials=true;\r\n            try{\r\n                    activity=await agent.Activities.details(id);\r\n                    this.setActivity(activity);\r\n                    runInAction(()=>{\r\n                    this.selectedActivity=activity;\r\n                    })\r\n                    this.loadingInitials=false;\r\n                    return activity;\r\n            }catch(error)\r\n            {\r\n                console.log(error);\r\n                this.loadingInitials=false;\r\n            }\r\n\r\n        }\r\n    }\r\n    private setActivity=(activity:Activity)=>{\r\n        const user=store.userStore.user;\r\n        if(user)\r\n        {\r\n            activity.isGoing=activity.attendees!.some(a=>a.username===user.userName);\r\n            activity.isHost=activity.hostUserName===user.userName;\r\n            activity.host=activity.attendees?.find(x=>x.username===activity.hostUserName);\r\n        }\r\n        activity.date=new Date(activity.date!);\r\n        this.activityRegistry.set(activity.id, activity);\r\n    }\r\n    private getActivity=(id: string)=>\r\n    {\r\n        return this.activityRegistry.get(id);\r\n    }\r\n    \r\n\r\n\r\n    createActivity=async (activity:ActivityFormValues)=>{\r\n        const user=store.userStore.user;\r\n        const attendee=new Profile(user!);\r\n        this.loading=true;\r\n        try\r\n        {\r\n            await agent.Activities.create(activity);\r\n            const newActivity=new Activity(activity);\r\n        newActivity.hostUserName=user!.userName;\r\n        newActivity.attendees=[attendee];\r\n        this.setActivity(newActivity);\r\n            runInAction(()=>{\r\n                this.selectedActivity=newActivity;\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>{\r\n                this.loading=false;\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    updateActivity=async (activity:ActivityFormValues)=>{\r\n        this.loading=true;\r\n        try\r\n        {\r\n            await agent.Activities.update(activity);\r\n            runInAction(()=>{\r\n                //this.Activities.filter(x=>x.id!==activity.id);\r\n                //this.Activities.push(activity);\r\n                if(activity.id){\r\n                    let updateActivity={...this.getActivity(activity.id), ...activity};\r\n                    this.activityRegistry.set(activity.id, updateActivity as Activity);\r\n                    this.selectedActivity=updateActivity as Activity;\r\n                }\r\n          \r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>{\r\n                this.loading=false;\r\n            })\r\n        }\r\n    }\r\n    deleteActivity=async (id:string)=>{\r\n        this.loading=true;\r\n        try\r\n        {\r\n            await agent.Activities.delete(id);\r\n            runInAction(()=>{\r\n                this.activityRegistry.delete(id);\r\n                this.loading=false;                \r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>{\r\n                this.loading=false;\r\n            })\r\n        }\r\n    }\r\n\r\n    updateAttendance=async()=>{\r\n        const user=store.userStore.user;\r\n        this.loading=true;\r\n        try{\r\n            await agent.Activities.attend(this.selectedActivity!.id);\r\n            runInAction(()=>{\r\n                if(this.selectedActivity?.isGoing){\r\n                    this.selectedActivity.attendees=this.selectedActivity.attendees?.filter(a=> a.username!==user?.userName);\r\n                    this.selectedActivity.isGoing=false;\r\n                }\r\n                else{\r\n                    const attendee=new Profile(user!);\r\n                    this.selectedActivity?.attendees?.push(attendee);\r\n                    this.selectedActivity!.isGoing=true;\r\n                }\r\n\r\n                this.activityRegistry.set(this.selectedActivity!.id, this.selectedActivity!);\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n        }\r\n        finally{\r\n            runInAction(()=>this.loading=false);\r\n        }\r\n    }\r\n\r\n    cancelActivityToggle=async()=>{\r\n        this.loading=true;\r\n        try{\r\n            await agent.Activities.attend(this.selectedActivity!.id);\r\n            runInAction(()=>{\r\n                this.selectedActivity!.isCancelled=!this.selectedActivity?.isCancelled;\r\n                this.activityRegistry.set(this.selectedActivity!.id, this.selectedActivity!);\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n        }\r\n        finally{\r\n            runInAction(()=>this.loading=false);\r\n        }\r\n    }\r\n\r\n    clearSelectedActivity=()=>{\r\n        this.selectedActivity=undefined;\r\n    }\r\n\r\n    updateAttendeeFollowing=(username:string)=>\r\n    {\r\n        this.activityRegistry.forEach(activity=>{\r\n            activity.attendees.forEach(attendee=>{\r\n                if(attendee.username===username)\r\n                {\r\n                    attendee.following?attendee.followerCount--: attendee.followerCount++;\r\n                    attendee.following=!attendee.following;\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import { HubConnection, HubConnectionBuilder, LogLevel } from \"@microsoft/signalr\";\r\nimport { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { ChatComment } from \"../models/comment\";\r\nimport { store } from \"./Store\";\r\n\r\nexport default class CommentStore{\r\n    comments:ChatComment[]=[];\r\n    hubConnection:HubConnection | null=null;\r\n\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    createHubConnection=(activityId:string)=>{\r\n        if(store.activityStore.selectedActivity){\r\n            this.hubConnection=new HubConnectionBuilder().withUrl(process.env.REACT_APP_CHAT_URL + '?activityId='+activityId,{\r\n                accessTokenFactory:()=>store.userStore.user?.token!\r\n            })\r\n            .withAutomaticReconnect()\r\n            .configureLogging(LogLevel.Information)\r\n            .build();\r\n            \r\n            this.hubConnection.start().catch(error=>console.log('Error estabilising the connection ', error));\r\n\r\n            this.hubConnection.on('LoadComments',(comments:ChatComment[])=>{\r\n                runInAction(()=>{\r\n                    comments.forEach(comment=>{\r\n                        comment.createdAt=new Date(comment.createdAt + 'Z');\r\n                    })\r\n                    this.comments=comments});\r\n            })\r\n\r\n            this.hubConnection.on('ReceiveComment',(comment:ChatComment)=>{\r\n                runInAction(()=>{\r\n                    comment.createdAt=new Date(comment.createdAt);\r\n                    this.comments.unshift(comment)})\r\n            })\r\n        }\r\n    }\r\n\r\n    stopHubConnection=()=>{\r\n        this.hubConnection?.stop().catch(error=>console.log('error stopping connection', error));\r\n    }\r\n\r\n    clearComments=()=>{\r\n        this.comments=[];\r\n        this.stopHubConnection();\r\n    }\r\n\r\n    addComment=async(values:any)=>{\r\n        values.activityId=store.activityStore.selectedActivity?.id;\r\n        try{\r\n            await this.hubConnection?.invoke('SendComment', values);\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n        }\r\n    }\r\n}","import { makeAutoObservable, reaction } from \"mobx\";\r\nimport { ServerError } from \"../models/ServerError\";\r\n\r\nexport default class CommonStore{\r\n    error:ServerError|null=null;\r\n    token:string|null=window.localStorage.getItem('jwt');\r\n    appLoaded=false;\r\n\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n        reaction(\r\n            ()=>this.token,\r\n            token=>{\r\n                if(token)\r\n                {\r\n                    window.localStorage.setItem('jwt', token);\r\n                }\r\n                else\r\n                {\r\n                    window.localStorage.removeItem('jwt');\r\n                }\r\n            }\r\n        )\r\n    }\r\n    setServerError=(error:ServerError)=>{\r\n        this.error=error;\r\n    }\r\n\r\n    setToken=(token:string|null)=>{\r\n        //if(token) window.localStorage.setItem('jwt', token);\r\n        this.token=token;\r\n    }\r\n\r\n    setAppLoaded=()=>{\r\n        this.appLoaded=true;\r\n    }\r\n}","import { makeAutoObservable } from \"mobx\"\r\n\r\ninterface Modal\r\n{\r\n    open:boolean;\r\n    body:JSX.Element| null;\r\n}\r\nexport default class ModelStore\r\n{\r\n    model: Modal={\r\n        open:false,\r\n        body: null\r\n    }\r\n\r\n    constructor(){\r\n        makeAutoObservable(this)\r\n    }\r\n\r\n    openModel=(content:JSX.Element)=>{\r\n        this.model.open=true;\r\n        this.model.body=content;\r\n    }\r\n\r\n    closeModel=()=>{\r\n        this.model.open=false;\r\n        this.model.body=null;\r\n    }\r\n}","import { makeAutoObservable, reaction, runInAction } from \"mobx\";\r\nimport agent from \"../API/agent\";\r\nimport { Photo, Profile, UserActivity } from \"../models/Profile\";\r\nimport { store } from \"./Store\";\r\n\r\nexport default class ProfileStore{\r\n    profile:Profile|null=null;\r\n    loadingProfile=false;\r\n    uploading=false;\r\n    loading=false;\r\n    followings:Profile[]=[];\r\n    loadingFollowings=false;\r\n    activeTab=0;\r\n    userActivities:UserActivity[]=[];\r\n    loadingActivities=false;\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n\r\n        reaction(\r\n            ()=> this.activeTab,\r\n                activeTab=>{\r\n                if(activeTab===3 || this.activeTab===4){\r\n                    const predicate=this.activeTab===3? \"followers\":\"Following\";\r\n                    this.loadFollowing(predicate);\r\n                }\r\n                else{\r\n                    this.followings=[];\r\n                }\r\n        })\r\n    }\r\n    setActiveTab=(activeTab:any)=>{\r\n        this.activeTab=activeTab;\r\n    }\r\n    get isCurrentUser(){\r\n        if(store.userStore.user && this.profile){\r\n            return store.userStore.user.userName===this.profile.username;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    loadProfile=async (username: string)=>{\r\n        this.loadingProfile=true;\r\n        try{\r\n            const profile=await agent.Profiles.get(username);\r\n            runInAction(()=>{\r\n                this.profile=profile;\r\n                this.loadingProfile=false;\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>this.loadingProfile=false);\r\n        }\r\n    }\r\n\r\n    uploadPhoto = async(file: Blob)=>{\r\n        this.uploading=true;\r\n        try{\r\n            const response=await agent.Profiles.uploadPhoto(file);\r\n            const photo=response.data;\r\n            runInAction(()=>{\r\n                if(this.profile){\r\n                    this.profile.photos?.push(photo);\r\n                    if(photo.isMain && store.userStore.user){\r\n                        store.userStore.setImage(photo.url);\r\n                        this.profile.image=photo.url;\r\n                    }\r\n                }\r\n                this.uploading=false;\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>this.uploading=false);\r\n        }\r\n    }\r\n\r\n    setMainPhoto=async(photo: Photo)=>{\r\n        this.loading=true;\r\n        try{\r\n            await agent.Profiles.setMainPhoto(photo.id);\r\n            store.userStore.setImage(photo.url);\r\n            runInAction(()=>{\r\n                if(this.profile && this.profile.photos){\r\n                    this.profile.photos.find(p=>p.isMain)!.isMain=false;\r\n                    this.profile.photos.find(p=>p.id===photo.id)!.isMain=true;\r\n                    this.profile.image=photo.url;\r\n                    this.loading=false;\r\n                }\r\n            })\r\n        }catch(error){\r\n            runInAction(()=>this.loading=false);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    deletePhoto=async (photo:Photo)=>{\r\n        this.loading=true;\r\n        try{\r\n            await agent.Profiles.deletePhoto(photo.id);\r\n            runInAction(()=>{\r\n                if(this.profile){\r\n                    this.profile.photos=this.profile.photos?.filter(p=>p.id!==photo.id);\r\n                    this.loading=false;\r\n                }\r\n            })\r\n        }\r\n        catch(error){\r\n            runInAction(()=>this.loading=false);\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    updateFollowing=async (username:string, following:boolean)=>{\r\n        this.loading=true;\r\n        try\r\n        {\r\n            await agent.Profiles.updateFollowing(username);\r\n            store.activityStore.updateAttendeeFollowing(username);\r\n            runInAction(()=>{\r\n                if(this.profile && this.profile.username!==store.userStore.user?.userName && this.profile.username===username){\r\n                    following?this.profile.followerCount++ : this.profile.followerCount--;\r\n                    this.profile.following=!this.profile.following;\r\n                }\r\n                if(this.profile && this.profile.username===store.userStore.user?.userName){\r\n                    following?this.profile.followingCount++:this.profile.followingCount--;\r\n                }\r\n                this.followings.forEach(profile=>{\r\n                    if(profile.username===username)\r\n                    {\r\n                        profile.following?profile.followerCount--: profile.followerCount++;\r\n                        profile.following=!profile.following;\r\n                    }\r\n                })\r\n\r\n                this.loading=false;\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>this.loading=false);\r\n        }\r\n    }\r\n\r\n    loadFollowing=async(predicate:string)=>{\r\n        this.loadingFollowings=true;\r\n\r\n        try{\r\n            const following=await agent.Profiles.listFollowings(this.profile!.username, predicate);\r\n            runInAction(()=>{\r\n                this.followings=following;\r\n                this.loadingFollowings=false;\r\n\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>this.loadingFollowings=false);\r\n        }\r\n    }\r\n\r\n    loadUserActivities =async (username:string, predicate?:string) => {\r\n        this.loadingActivities=true;\r\n        try\r\n        {\r\n            const activities=await agent.Profiles.listActivities(username, predicate!);\r\n            runInAction(()=>{\r\n                this.userActivities=activities;\r\n                this.loadingActivities=false;\r\n            })\r\n        }\r\n        catch(error)\r\n        {\r\n            console.log(error);\r\n            runInAction(()=>this.loadingActivities=false);\r\n        }\r\n    }\r\n}","import { makeAutoObservable, runInAction } from \"mobx\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { history } from \"../..\";\r\nimport agent from \"../API/agent\";\r\nimport { User, UserFormValues } from \"../models/User\";\r\nimport { store } from \"./Store\";\r\n\r\nexport default class UserStore{\r\n    user:User|null=null;\r\n    fbAccessToken: string | null = null;\r\n    fbLoading=false;\r\n\r\n    constructor(){\r\n        makeAutoObservable(this);\r\n    }\r\n\r\n    get isLoggedIn(){\r\n        return !!this.user;\r\n    }\r\n\r\n    login=async (creds:UserFormValues)=>{\r\n        try{\r\n            const user=await agent.Account.login(creds);\r\n            store.commonStore.setToken(user.token);\r\n            runInAction(()=> this.user=user);\r\n            store.modalStore.closeModel();\r\n            return history.push('/activities')\r\n        }catch(error){\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    logout=()=>{\r\n        store.commonStore.setToken(null);\r\n        window.localStorage.removeItem('jwt');\r\n        this.user=null;\r\n        return history.push('/');\r\n    }\r\n\r\n    getUser=async()=>{\r\n        try{\r\n            const user=await agent.Account.current();\r\n            runInAction(()=>this.user=user);\r\n        }catch(error)\r\n        {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    register=async (creds:UserFormValues)=>{\r\n        try{\r\n            const user=await agent.Account.register(creds);\r\n            store.commonStore.setToken(user.token);\r\n            runInAction(()=> this.user=user);\r\n            store.modalStore.closeModel();\r\n            return history.push('/activities')\r\n        }catch(error){\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    setImage=(image:string)=>{\r\n        if(this.user) this.user.image=image;\r\n    }\r\n\r\n    getFacebookLoginStatus=async()=>{\r\n        window.FB.getLoginStatus(response=>{\r\n            if(response.status==='connected')\r\n            {\r\n                this.fbAccessToken=response.authResponse.accessToken;\r\n            }\r\n        })\r\n    }\r\n\r\n    facebookLogin=()=>{\r\n        this.fbLoading=true;\r\n        const apiLogin=(accessToken:string)=>{\r\n            agent.Account.fbLogin(accessToken).then(user=>{\r\n                store.commonStore.setToken(user.token);\r\n                runInAction(()=>{\r\n                    this.user=user;\r\n                    this.fbLoading=false;\r\n                })\r\n\r\n            //todo: navigate to activities                \r\n            }).catch(error=>{\r\n                console.log(error);\r\n                runInAction(()=>this.fbLoading=false);\r\n            });\r\n            \r\n        }\r\n        if(this.fbAccessToken){\r\n            apiLogin(this.fbAccessToken);\r\n        }\r\n        else\r\n        {\r\n            window.FB.login(response=>{\r\n                apiLogin(response.authResponse.accessToken);\r\n            },{scope:'public_profile,email'})\r\n        }\r\n        // window.FB.login(response => {\r\n        //     console.log(response);\r\n        //     agent.Account.fbLogin(response.authResponse.accessToken).then(user=>console.log(user));\r\n\r\n        // },{scope:'public_profile,email'})\r\n    }\r\n}","import { createContext, useContext } from \"react\";\r\nimport ActivityStore from \"./ActivityStore\";\r\nimport CommentStore from \"./CommentStore\";\r\nimport CommonStore from \"./CommonStore\";\r\nimport ModelStore from \"./modelStore\";\r\nimport ProfileStore from \"./ProfileStore\";\r\nimport UserStore from \"./UserStore\";\r\n\r\ninterface Store{\r\n    activityStore:ActivityStore;\r\n    commonStore:CommonStore;\r\n    userStore:UserStore;\r\n    modalStore:ModelStore;\r\n    profileStore:ProfileStore;\r\n    commentStore:CommentStore;\r\n}\r\n\r\nexport const store:Store={\r\n    activityStore:new ActivityStore(),\r\n    commonStore:new CommonStore(),\r\n    userStore:new UserStore(),\r\n    modalStore:new ModelStore(),\r\n    profileStore: new ProfileStore(),\r\n    commentStore:new CommentStore()\r\n}\r\n\r\nexport const StoreContext=createContext(store);\r\n\r\nexport function useStore(){\r\n    return useContext(StoreContext);\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Button, Container, Dropdown, Image, Menu } from \"semantic-ui-react\";\r\nimport { useStore } from \"../store/Store\";\r\n\r\nexport default observer( function NavBar(){\r\n    const {userStore:{user, logout}}=useStore()\r\n    return(        \r\n    <Menu inverted fixed='top'>\r\n        <Container>\r\n            <Menu.Item as={NavLink} to='/' header>\r\n                <img src=\"/assets/logo.png\" alt=\"logo\" style={{marginRight:10}}/>\r\n                Reactivity\r\n            </Menu.Item>\r\n            <Menu.Item as={NavLink} to='/activities' name='Activities'/>\r\n            <Menu.Item>\r\n                <Button as={NavLink} to='/createactivity' positive content='Create Activity'/>\r\n            </Menu.Item>\r\n            <Menu.Item position='right'>\r\n                <Image src={user?.image || 'assets/user.png'} avatar spaced='right'/>\r\n                <Dropdown pointing='top left' text={user?.displayName}>\r\n                    <Dropdown.Menu>\r\n                    <Dropdown.Item as={Link} to={`/profiles/${user?.userName}`} text='My Profile' icon='user'/>\r\n                    <Dropdown.Item onClick={logout} text='Logout' icon='power'/>\r\n                    </Dropdown.Menu>\r\n                </Dropdown>\r\n            </Menu.Item>\r\n        </Container>\r\n        </Menu>\r\n    );\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport Calendar from \"react-calendar\";\r\nimport { Header, Menu } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/store/Store\";\r\n\r\nexport default observer(function ActivityFilter(){\r\n    const {activityStore:{predicate, setPredicate}}=useStore();\r\n    return(\r\n        <>\r\n        <Menu vertical size=\"large\" style={{width:'100%', marginTop:25}}>\r\n            <Header icon='filter' attached color='teal' content='Filters'/>\r\n            <Menu.Item \r\n                content='All Activities'\r\n                active={predicate.has('all')}\r\n                onClick={()=>setPredicate('all', 'true')}\r\n            />\r\n            <Menu.Item content=\"I'm Going\"\r\n                active={predicate.has('isGoing')}\r\n                onClick={()=>setPredicate('isGoing', 'true')}\r\n            />\r\n            <Menu.Item \r\n            content=\"I'm Hosting\"\r\n            active={predicate.has('isHost')}\r\n            onClick={()=>setPredicate('isHost', 'true')}            \r\n            />\r\n        </Menu>\r\n        <Header/>\r\n        <Calendar\r\n            onChange={(date: Date)=>setPredicate('startDate', date as Date)}\r\n            value={predicate.get('startDate')|| new Date()}\r\n        />\r\n        </>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React,{ SyntheticEvent } from \"react\";\r\nimport { Button, Reveal } from \"semantic-ui-react\";\r\nimport { Profile } from \"../../app/models/Profile\";\r\nimport { useStore } from \"../../app/store/Store\";\r\n\r\ninterface Props{\r\n    profile:Profile;\r\n}\r\n\r\nexport default observer(function FollowButton({profile}:Props){\r\n    const {profileStore, userStore}=useStore();\r\n\r\n    const {updateFollowing, loading}=profileStore;\r\n    if(userStore.user?.userName === profile.username) return null;\r\n\r\n    function handleFollow(e:SyntheticEvent, username:string)\r\n    {\r\n        e.preventDefault();\r\n        profile.following?updateFollowing(username, false): updateFollowing(username, true);\r\n    }\r\n    return(\r\n        <Reveal animated=\"move\">\r\n        <Reveal.Content visible style={{width:'100%'}}>\r\n            <Button \r\n            fluid \r\n            color=\"teal\" \r\n            content={profile.following?'Following':'Not Following'}/>\r\n        </Reveal.Content>\r\n        <Reveal.Content hidden style={{width:'100%'}}>\r\n            <Button \r\n                basic \r\n                fluid\r\n                color={profile.following?'red':'green'} \r\n                content={profile.following?'UnFollow':'Follow'}\r\n                loading={loading}\r\n                onClick={(e)=>handleFollow(e,profile.username)}/>\r\n        </Reveal.Content>\r\n    </Reveal>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Icon, Image } from \"semantic-ui-react\";\r\nimport { Profile } from \"../../app/models/Profile\";\r\nimport FollowButton from \"./FollowButton\";\r\n\r\ninterface Props{\r\n    profile:Profile;\r\n}\r\n\r\nexport default observer(function ProfileCard({profile}:Props){\r\n    return (\r\n        <Card as={Link} to={`/profiles/${profile.username}`}>\r\n            <Image src={profile.image || '/assets/user.png'}/>\r\n            <Card.Content>\r\n                <Card.Header>{profile.displayName}</Card.Header>\r\n                <Card.Description>{profile.bio}</Card.Description>\r\n            </Card.Content>\r\n            <Card.Content extra>\r\n                <Icon name='user'/>\r\n                {profile.followerCount}\r\n            </Card.Content>\r\n            <FollowButton profile={profile}/>\r\n        </Card>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Image, List, Popup } from \"semantic-ui-react\";\r\nimport { Profile } from \"../../../app/models/Profile\";\r\nimport ProfileCard from \"../../Profiles/ProfileCard\";\r\n\r\ninterface Props{\r\n    attendees:Profile[];\r\n}\r\nexport default observer(function ActivityListItemAttendee({attendees}:Props)\r\n{\r\n    const style={\r\n        borderColor: 'orange',\r\n        borderWidth: 3\r\n    }\r\n    return (\r\n        <List horizontal>\r\n            {attendees.map(attendee=>(\r\n                            <Popup hoverable key={attendee.username}\r\n                            trigger={\r\n                           <List.Item key={attendee.username} as={Link} to={`/profiles/${attendee.username}`}>\r\n                           <Image \r\n                                size='mini' circular src={attendee.image ||'/assets/user.png'}\r\n                                bordered\r\n                                style={attendee.following? style:null}/>\r\n                       </List.Item> }\r\n                       >\r\n                           <Popup.Content>\r\n                               <ProfileCard profile={attendee}/>\r\n                           </Popup.Content>\r\n                       </Popup>\r\n            ))}\r\n                       \r\n        </List>\r\n    )\r\n})","import { format } from \"date-fns\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Icon, Item, Label, Segment } from \"semantic-ui-react\";\r\nimport { Activity } from \"../../../app/models/activity\";\r\nimport ActivityListItemAttendee from \"./ActivityListItemAttendee\";\r\n\r\n\r\ninterface Props{\r\n    activity:Activity;\r\n}\r\nexport default function ActivityListItem({activity}:Props)\r\n{\r\n \r\n\r\n    return(\r\n        <Segment.Group>\r\n            {activity.isCancelled &&\r\n                <Label attached='top' color='red' content='Cancelled' style={{textAlign:'center'}}/>\r\n            }\r\n            <Segment>\r\n                <Item.Group>\r\n                    <Item>\r\n                        <Item.Image style={{marginBottom:3}} size=\"tiny\" circular src={activity.host?.image || 'assets/user.png'}/>\r\n                        <Item.Content>\r\n                            <Item.Header as={Link} to={`/activities/${activity.id}`} >\r\n                                {activity.title}\r\n                            </Item.Header>\r\n                            <Item.Description>Hosted by <Link to={`/profiles/${activity.hostUserName}`}> {activity.host?.displayName}</Link></Item.Description>\r\n                            {activity.isHost && (\r\n                                <Item.Description>\r\n                                    <Label basic color='orange'>You are hosting this activity</Label>\r\n                                </Item.Description>\r\n                            )}\r\n                            {activity.isGoing && !activity.isHost &&(\r\n                                <Item.Description>\r\n                                    <Label basic color='green'>You are going to this activity</Label>\r\n                                </Item.Description>\r\n                            )}\r\n                        </Item.Content>\r\n                    </Item>\r\n                </Item.Group>\r\n            </Segment>\r\n            <Segment>\r\n                <span>\r\n                    <Icon name=\"clock\"/>{format(activity.date!, 'dd MMM yyyy h:mm aa')}\r\n                    <Icon name=\"marker\"/> {activity.venue}\r\n                </span>\r\n            </Segment>\r\n            <Segment secondary>\r\n                <ActivityListItemAttendee attendees={activity.attendees!}/>\r\n            </Segment>\r\n            <Segment clearing>\r\n                <span>{activity.description}</span>\r\n                <Button as={Link} to={`/activities/${activity.id}`} color='teal'\r\n                floated=\"right\" content='View'/>\r\n            </Segment>\r\n        </Segment.Group>\r\n    );\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React, { Fragment } from \"react\";\r\nimport { Header } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../../app/store/Store\";\r\nimport ActivityListItem from \"./ActivityListItem\";\r\n\r\n\r\nexport default observer( function ActivityList()\r\n{\r\n    const {activityStore} =useStore();\r\n    const {groupedActivities}=activityStore;\r\n\r\n    return(\r\n        <>\r\n            {groupedActivities.map(([group, activities])=>(\r\n                <Fragment key={group}>\r\n                    <Header sub color=\"teal\">\r\n                        {group}\r\n                    </Header>\r\n                            {activities.map(activity=>(\r\n                                <ActivityListItem key={activity.id} activity={activity}/>\r\n                            ))}\r\n                </Fragment>\r\n            ))}\r\n        </>\r\n\r\n    )\r\n})","import React, { Fragment } from 'react';\r\nimport { Segment, Button, Placeholder } from 'semantic-ui-react';\r\n\r\nexport default function ActivityListItemPlaceholder() {\r\n    return (\r\n        <Fragment>\r\n            <Placeholder fluid style={{ marginTop: 25 }}>\r\n                <Segment.Group>\r\n                    <Segment style={{ minHeight: 110 }}>\r\n                        <Placeholder>\r\n                            <Placeholder.Header image>\r\n                                <Placeholder.Line />\r\n                                <Placeholder.Line />\r\n                            </Placeholder.Header>\r\n                            <Placeholder.Paragraph>\r\n                                <Placeholder.Line />\r\n                            </Placeholder.Paragraph>\r\n                        </Placeholder>\r\n                    </Segment>\r\n                    <Segment>\r\n                        <Placeholder>\r\n                            <Placeholder.Line />\r\n                            <Placeholder.Line />\r\n                        </Placeholder>\r\n                    </Segment>\r\n                    <Segment secondary style={{ minHeight: 70 }} />\r\n                    <Segment clearing>\r\n                        <Button disabled color='blue' floated='right' content='View' />\r\n                    </Segment>\r\n                </Segment.Group>\r\n            </Placeholder>\r\n        </Fragment>\r\n    );\r\n};\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { Grid, Loader } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { PagingParams } from \"../../../app/models/Pagination\";\r\nimport { useStore } from \"../../../app/store/Store\";\r\nimport ActivityFilter from \"./ActivityFilters\";\r\n\r\n\r\nimport ActivityList from \"./ActivityList\";\r\nimport ActivityListItemPlaceholder from \"./ActivityListItemPlaceholder\";\r\n\r\nexport default observer(function ActivityDashboard()\r\n{\r\n    const {activityStore}=useStore();\r\n    const {loadActivities, activityRegistry, setPagingParams, pagination}=activityStore;\r\n    const [loadingNext, setLoadingNext]=useState(false);\r\n\r\n    function handleGetNext()\r\n    {\r\n        setLoadingNext(true);\r\n        setPagingParams(new PagingParams(pagination!.CurrentPage+1))\r\n        loadActivities().then(()=>setLoadingNext(false));\r\n    }\r\n    useEffect(()=>{\r\n      if(activityRegistry.size<=1) loadActivities();\r\n    },[loadActivities, activityRegistry.size]);\r\n  \r\n  \r\n    // if(activityStore.loadingInitials && !loadingNext) return <LoadingComponent content='App Loading'/>\r\n  \r\n\r\n    return(\r\n        <Grid>\r\n            <Grid.Column width='10'>\r\n                {activityStore.loadingInitials && !loadingNext?(\r\n                    <>\r\n                    <ActivityListItemPlaceholder/>\r\n                    <ActivityListItemPlaceholder/>\r\n                    </>\r\n                ):(\r\n                    <InfiniteScroll\r\n                    pageStart={0}\r\n                    loadMore={handleGetNext}\r\n                    hasMore={!loadingNext && !!pagination && pagination.CurrentPage<pagination.totalPages}\r\n                    initialLoad={false}\r\n                    >\r\n                    <ActivityList />\r\n    \r\n                    </InfiniteScroll>\r\n                )}\r\n\r\n                {/* <Button floated=\"right\"\r\n                content='Mare..'\r\n                positive\r\n                onClick={handleGetNext}\r\n                loading={loadingNext}\r\n                disabled={pagination?.totalPages===pagination?.CurrentPage}\r\n                /> */}\r\n\r\n            </Grid.Column>\r\n            <Grid.Column width='6'>\r\n                <ActivityFilter/>\r\n            </Grid.Column>\r\n            <Grid.Column width={10}>\r\n                <Loader active={loadingNext}/>\r\n            </Grid.Column>\r\n        </Grid>\r\n    )\r\n})","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    placeholder:string;\r\n    name:string;\r\n    type?:string;\r\n    label?:string;\r\n}\r\nexport default function MyTextInput(props:Props){\r\n    const [field, meta]=useField(props.name);\r\n    return(\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>{props.label}</label>\r\n            <input {...field} {...props}/>\r\n            {meta.touched && meta.error?(\r\n                <Label basic color='red'>{meta.error}</Label>\r\n            ):null}\r\n        </Form.Field>\r\n    )\r\n}","import { Formik, Form, ErrorMessage } from 'formik';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Header, Label } from 'semantic-ui-react';\r\nimport MyTextInput from '../../app/common/form/MyTextInput';\r\nimport { useStore } from '../../app/store/Store';\r\n\r\nexport default observer( function LoginForm(){\r\n    const {userStore}=useStore();\r\n    const navigate=useNavigate()\r\n    return(\r\n        <Formik initialValues={{email:'', password:'', error:null}}\r\n        onSubmit={(value, {setErrors})=>userStore.login(value).catch(error=>setErrors({error:'Invalid email or password'}))}>\r\n            {({handleSubmit, isSubmitting, errors})=>(\r\n                <Form className='ui form' onSubmit={handleSubmit} autoComplete='off'>\r\n                    <Header as='h2' content='Login to Reactivity' color='teal' textAlign='center' />\r\n                    <MyTextInput name='email' placeholder='Email'/>\r\n                    <MyTextInput name='password' placeholder='Password' type='password'/>\r\n                    <ErrorMessage name='error' render={()=>\r\n                        <Label style={{marginBottom:10}} basic colors='red' content={errors.error}/>}\r\n                    />\r\n                    <Button loading={isSubmitting} positive content='Login' type='submit' fluid/>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n})","import React from \"react\";\r\nimport { Message } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    errors: any;\r\n}\r\nexport default function VaidationErrors({errors}:Props)\r\n{\r\n    return(\r\n        <Message error>\r\n            {errors && (\r\n                <Message.List>\r\n                    {\r\n                        errors.map((err:any, i:any)=>(\r\n                            <Message.Item key={i}>{err}</Message.Item>\r\n                        ))\r\n                    }\r\n                </Message.List>\r\n            )}\r\n        </Message>\r\n    )\r\n}","import { Formik, Form, ErrorMessage } from 'formik';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button, Header } from 'semantic-ui-react';\r\nimport MyTextInput from '../../app/common/form/MyTextInput';\r\nimport { useStore } from '../../app/store/Store';\r\nimport * as Yup from 'yup';\r\nimport VaidationErrors from '../error/ValidationError';\r\nexport default observer( function RegisterForm(){\r\n    const {userStore}=useStore();\r\n    const navigate=useNavigate()\r\n    return(\r\n        <Formik initialValues={{displayName:'', username:'', email:'', password:'', error:null}}\r\n        onSubmit={(value, {setErrors})=>userStore.register(value).catch(error=>\r\n            setErrors({error}))}\r\n        validationSchema={Yup.object({\r\n            displayName:Yup.string().required(),\r\n            username:Yup.string().required(),\r\n            email:Yup.string().required().email(),\r\n            password:Yup.string().required(),\r\n        })}\r\n        >\r\n            {({handleSubmit, isSubmitting, errors, isValid, dirty})=>(\r\n                <Form className='ui form error' onSubmit={handleSubmit} autoComplete='off'>\r\n                    <Header as='h2' content='Sign up to Reactivity' color='teal' textAlign='center' />\r\n                    <MyTextInput name='displayName' placeholder='Display Name'/>\r\n                    <MyTextInput name='username' placeholder='User Name'/>\r\n                    <MyTextInput name='email' placeholder='email'/>\r\n                    <MyTextInput name='password' placeholder='Password' type='password'/>\r\n                    <ErrorMessage name='error' render={()=>\r\n                       <VaidationErrors errors={errors.error}/>}\r\n                    />\r\n                    <Button disabled={!isValid || !dirty || isSubmitting} loading={isSubmitting} positive content='Register' type='submit' fluid/>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Container, Divider, Header, Image, Segment } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/store/Store\";\r\nimport LoginForm from \"../users/LoginForm\";\r\nimport RegisterForm from \"../users/registerForm\";\r\n\r\nexport default observer( function HomePage()\r\n{\r\n    const {userStore, modalStore}=useStore()\r\n    return (\r\n        <Segment inverted textAlign=\"center\" vertical className=\"masthead\">\r\n            <Container text>\r\n                <Header as='h1' inverted>\r\n                    <Image size=\"massive\" src='/assets/logo.png' alt='logo' style={{marginBottom:12}}/>\r\n                    Reactivity\r\n                </Header>\r\n                {userStore.isLoggedIn?(\r\n                    <>\r\n                        <Header as='h2' inverted content='Welcome to Reactivities'/>\r\n                        <Button as={Link} to='/activities' size='huge' inverted>\r\n                            Go to Activity\r\n                        </Button>\r\n                     </>\r\n                ):(\r\n                    <>\r\n                <Button onClick={()=>modalStore.openModel(<LoginForm/>)} size='huge' inverted>\r\n                    Login\r\n                </Button>\r\n                <Button onClick={()=>modalStore.openModel(<RegisterForm/>)} size='huge' inverted>\r\n                Register\r\n              </Button>\r\n              <Divider horizontal inverted>Or</Divider>\r\n              <Button loading={userStore.fbLoading} size='huge' inverted color=\"facebook\" content='Login with facebook' onClick={userStore.facebookLogin}/>\r\n              </>\r\n                )}\r\n            </Container>\r\n        </Segment>\r\n    )\r\n})","import React from \"react\";\r\nimport { Dimmer, Loader } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    inverted?:boolean,\r\n    content?:string\r\n}\r\n\r\nexport default function LoadingComponent({inverted=true, content='loading...'}: Props)\r\n{\r\n    return(\r\n        <Dimmer active={true} inverted={inverted}>\r\n            <Loader content={content}/>\r\n        </Dimmer>\r\n    )\r\n}","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    placeholder:string;\r\n    name:string;\r\n    rows:number;\r\n    label?:string;\r\n}\r\nexport default function MyTextArea(props:Props){\r\n    const [field, meta]=useField(props.name);\r\n    return(\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>{props.label}</label>\r\n            <textarea {...field} {...props}/>\r\n            {meta.touched && meta.error?(\r\n                <Label basic color='red'>{meta.error}</Label>\r\n            ):null}\r\n        </Form.Field>\r\n    )\r\n}","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label, Select } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    placeholder:string;\r\n    name:string;\r\n    options:any;\r\n    label?:string;\r\n}\r\nexport default function MySelectInput(props:Props){\r\n    const [field, meta, helpers]=useField(props.name);\r\n    return(\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <label>{props.label}</label>\r\n            <Select clearable\r\n            options={props.options}\r\n            value={field.value || null}\r\n            onChange={(e,d)=>helpers.setValue(d.value)}\r\n            onBlur={()=>helpers.setTouched(true)}\r\n            placeholder={props.placeholder}\r\n            \r\n            />\r\n            {meta.touched && meta.error?(\r\n                <Label basic color='red'>{meta.error}</Label>\r\n            ):null}\r\n        </Form.Field>\r\n    )\r\n}","export const categoryOptions=[\r\n    {text:'Drinks', value:'drinks'},\r\n    {text:'Culture', value:'culture'},\r\n    {text:'Film', value:'film'},\r\n    {text:'Food', value:'food'},\r\n    {text:'Music', value:'music'},\r\n    {text:'Travel', value:'travel'},\r\n]","import { useField } from \"formik\";\r\nimport React from \"react\";\r\nimport { Form, Label } from \"semantic-ui-react\";\r\nimport DatePicker, {ReactDatePickerProps} from 'react-datepicker';\r\ninterface Props{\r\n    placeholder:string;\r\n    name:string;\r\n    label?:string;\r\n}\r\nexport default function MyDateInput(props:Partial<ReactDatePickerProps>){\r\n    const [field, meta, helpers]=useField(props.name!);\r\n    return(\r\n        <Form.Field error={meta.touched && !!meta.error}>\r\n            <DatePicker\r\n                {...field}\r\n                {...props}\r\n                selected={(field.value && new Date(field.value))||null}\r\n                onChange={value=>helpers.setValue(value)}\r\n            />\r\n            {meta.touched && meta.error?(\r\n                <Label basic color='red'>{meta.error}</Label>\r\n            ):null}\r\n        </Form.Field>\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\r\nimport { Button,  Header, Segment } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/store/Store\";\r\nimport {v4 as uuid} from 'uuid';\r\nimport { Formik, Form } from \"formik\";\r\nimport * as Yup from 'yup';\r\nimport { observer } from \"mobx-react-lite\";\r\nimport MyTextInput from \"../../../app/common/form/MyTextInput\";\r\nimport MyTextArea from \"../../../app/common/form/MyTextArea\";\r\nimport MySelectInput from \"../../../app/common/form/MySelectInput\";\r\nimport { categoryOptions } from \"../../../app/common/Options/CategoryOptions\";\r\nimport MyDateInput from \"../../../app/common/form/MyDateInput\";\r\nimport { ActivityFormValues } from \"../../../app/models/activity\";\r\n\r\nexport default observer( function ActivityForm()\r\n{\r\n    const {activityStore}=useStore();\r\n    const navigate=useNavigate();\r\n    const { createActivity, updateActivity, \r\n        loadActivity, loadingInitials}=activityStore;\r\n    const {id} = useParams<{id:string}>();\r\n    const[activity, setActivity]=useState<ActivityFormValues>(new ActivityFormValues());\r\n\r\n    const validationSchema=Yup.object({\r\n        title: Yup.string().required('The activity title is required'),\r\n        description: Yup.string().required('The activity discription is required'),\r\n        category: Yup.string().required(),\r\n        date: Yup.string().required('Date is required').nullable(),\r\n        venue: Yup.string().required(),\r\n        city: Yup.string().required(),\r\n    })\r\n    useEffect(()=>{\r\n        if(id) loadActivity(id).then(activity=>setActivity(new ActivityFormValues(activity)));\r\n    },[id, loadActivity])\r\n\r\n    function handleFormSubmit(activity:ActivityFormValues)\r\n    {\r\n        if(!activity.id)\r\n        {\r\n            let newActivity={\r\n                ...activity,\r\n                id:uuid()\r\n            }\r\n            createActivity(newActivity).then(()=>navigate(`/activities/${newActivity.id}`))\r\n        }\r\n        else{\r\n            updateActivity(activity).then(()=>navigate(`/activities/${activity.id}`));\r\n        }\r\n    }\r\n\r\n    // function handleInputChange(event: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>)\r\n    // {\r\n    //     const{name, value}=event.target;\r\n    //     setActivity({...activity, [name]:value});\r\n    // }\r\n\r\n    if(loadingInitials) return <LoadingComponent content=\"loading activity ...\"/>\r\n    return (\r\n        <Segment clearing>\r\n            <Header content='Activity Details' sub color=\"teal\"/>\r\n            <Formik \r\n            validationSchema={validationSchema}\r\n            enableReinitialize initialValues={activity} onSubmit={values =>handleFormSubmit(values)}>\r\n                {({handleSubmit, isValid, isSubmitting, dirty})=>(\r\n                    <Form className=\"ui form\" onSubmit={handleSubmit} autoComplete='off'>\r\n                        {/* <FormField>\r\n                            <Field placeholder='Title' name='title' />\r\n                            <ErrorMessage name='title' render={error=><Label basic color='red' content={error}/>}/>\r\n                        </FormField> */}\r\n                     <MyTextInput name='title' placeholder=\"title\"/>  \r\n                    <MyTextArea rows={3} placeholder='Description'  name='description' />\r\n                    <MySelectInput options={categoryOptions} placeholder='Category'   name='category' />\r\n                   <MyDateInput placeholderText=\"Date\"\r\n                    name='date'\r\n                    showTimeSelect\r\n                    timeCaption=\"time\"\r\n                    dateFormat='MMMM d, yyyy h:mm aa'\r\n                   />\r\n                   <Header content='Location Details' sub color=\"teal\"/>\r\n                    <MyTextInput placeholder='City'  name='city' />\r\n                    <MyTextInput placeholder='Venue'  name='venue' />\r\n                    <Button \r\n                    disabled={isSubmitting || \r\n                        !isValid || !dirty}\r\n                    loading={isSubmitting} floated=\"right\" positive type=\"submit\" content=\"Submit\"/>\r\n                    <Button as={Link} to='/activities' floated=\"right\" type=\"button\" content=\"Cancel\"/>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n\r\n        </Segment>\r\n    )\r\n})","import { Formik, Form, Field, FieldProps } from 'formik';\r\nimport { observer } from 'mobx-react-lite'\r\nimport React, { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport {Segment, Header, Comment, Loader} from 'semantic-ui-react'\r\nimport { useStore } from '../../../app/store/Store';\r\nimport * as Yup from 'yup';\r\nimport { formatDistanceToNow } from 'date-fns/esm';\r\ninterface Props{\r\n    activityId:string;\r\n}\r\nexport default observer(function ActivityDetailChat({activityId}:Props) {\r\n    const {commentStore}=useStore();\r\n    useEffect(()=>{\r\n        if(activityId){\r\n            commentStore.createHubConnection(activityId);\r\n        }\r\n\r\n        return ()=>{\r\n            commentStore.clearComments();\r\n        }\r\n    },[commentStore, activityId]);\r\n\r\n    return (\r\n        <>\r\n            <Segment\r\n                textAlign='center'\r\n                attached='top'\r\n                inverted\r\n                color='teal'\r\n                style={{border: 'none'}}\r\n            >\r\n                <Header>Chat about this event</Header>\r\n            </Segment>\r\n            <Segment attached clearing>\r\n            <Formik onSubmit={(values, {resetForm})=>commentStore.addComment(values).then(()=>resetForm())}\r\n                    initialValues={{body:''}}\r\n                    validationSchema={Yup.object({\r\n                        body: Yup.string().required()\r\n                    })}\r\n                    >\r\n                        {({isSubmitting, isValid, handleSubmit})=>(\r\n                                <Form className='ui form'>\r\n                                    <Field name='body'>\r\n                                        {(props:FieldProps)=>(\r\n                                            <div style={{position:'relative'}}>\r\n                                                <Loader active={isSubmitting}/>\r\n                                                <textarea \r\n                                                placeholder='Enter your comment (Enter shift+ enter for net line'\r\n                                                rows={2}\r\n                                                {...props.field}\r\n                                                onKeyPress={e=>{\r\n                                                    if(e.key==='Enter' && e.shiftKey)\r\n                                                        return;\r\n                                                    if(e.key==='Enter' && !e.shiftKey)\r\n                                                    {\r\n                                                        e.preventDefault();\r\n                                                        isValid && handleSubmit();\r\n                                                    }\r\n                                                }}\r\n                                                />\r\n                                            </div>\r\n                                        )}\r\n                                    </Field>\r\n\r\n                            </Form>\r\n                        )}\r\n\r\n                    </Formik>                \r\n                <Comment.Group>\r\n                    {\r\n                        commentStore.comments.map(comment=>(\r\n                            <Comment key={comment.id}>\r\n                                <Comment.Avatar src={comment.image ||'/assets/user.png'}/>\r\n                                <Comment.Content>\r\n                                    <Comment.Author as={Link} to={`/profiles/${comment.username}`}>{comment.displayName}</Comment.Author>\r\n                                    <Comment.Metadata>\r\n                                        <div>{formatDistanceToNow(comment.createdAt)}</div>\r\n                                    </Comment.Metadata>\r\n                                    <Comment.Text style={{whiteSpace: 'pre-wrap'}}>{comment.body}</Comment.Text>\r\n\r\n                                </Comment.Content>\r\n                            </Comment>\r\n                        ))\r\n                    }\r\n\r\n\r\n                </Comment.Group>\r\n            </Segment>\r\n        </>\r\n\r\n    )\r\n})\r\n","import { format } from 'date-fns';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport {Segment, Grid, Icon} from 'semantic-ui-react'\r\nimport {Activity} from \"../../../app/models/activity\";\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nexport default observer(function ActivityDetailInfo({activity}: Props) {\r\n    return (\r\n        <Segment.Group>\r\n            <Segment attached='top'>\r\n                <Grid>\r\n                    <Grid.Column width={1}>\r\n                        <Icon size='large' color='teal' name='info'/>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={15}>\r\n                        <p>{activity.description}</p>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n            <Segment attached>\r\n                <Grid verticalAlign='middle'>\r\n                    <Grid.Column width={1}>\r\n                        <Icon name='calendar' size='large' color='teal'/>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={15}>\r\n            <span>\r\n              {format(activity.date!, 'dd MMM yyyy h:mm aa')}\r\n            </span>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n            <Segment attached>\r\n                <Grid verticalAlign='middle'>\r\n                    <Grid.Column width={1}>\r\n                        <Icon name='marker' size='large' color='teal'/>\r\n                    </Grid.Column>\r\n                    <Grid.Column width={11}>\r\n                        <span>{activity.venue}, {activity.city}</span>\r\n                    </Grid.Column>\r\n                </Grid>\r\n            </Segment>\r\n        </Segment.Group>\r\n    )\r\n})\r\n\r\n","import { format } from 'date-fns';\r\nimport { observer } from 'mobx-react-lite';\r\nimport React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport {Button, Header, Item, Segment, Image, Label} from 'semantic-ui-react'\r\nimport {Activity} from \"../../../app/models/activity\";\r\nimport { useStore } from '../../../app/store/Store';\r\n\r\nconst activityImageStyle = {\r\n    filter: 'brightness(30%)'\r\n};\r\n\r\nconst activityImageTextStyle = {\r\n    position: 'absolute',\r\n    bottom: '5%',\r\n    left: '5%',\r\n    width: '100%',\r\n    height: 'auto',\r\n    color: 'white'\r\n};\r\n\r\ninterface Props {\r\n    activity: Activity\r\n}\r\n\r\nexport default observer (function ActivityDetailHeader({activity}: Props) {\r\n    const {activityStore:{updateAttendance, loading, cancelActivityToggle}}=useStore();\r\n    return (\r\n        <Segment.Group>\r\n            <Segment basic attached='top' style={{padding: '0'}}>\r\n                {activity.isCancelled &&\r\n                    <Label style={{position:'absolute', zindex:1000, left:-14, top:20 }} ribbon color='red' content='Cancelled'/>\r\n                }\r\n                <Image src={`/assets/categoryImages/${activity.category}.jpg`} fluid style={activityImageStyle}/>\r\n                <Segment style={activityImageTextStyle} basic>\r\n                    <Item.Group>\r\n                        <Item>\r\n                            <Item.Content>\r\n                                <Header\r\n                                    size='huge'\r\n                                    content={activity.title}\r\n                                    style={{color: 'white'}}\r\n                                />\r\n                                <p>{format(activity.date!, 'dd MMM yyyy')}</p>\r\n                                <p>\r\n                                    Hosted by <strong><Link to={`/profiles/${activity.host?.username}`}> {activity.host?.displayName}</Link></strong>\r\n                                </p>\r\n                            </Item.Content>\r\n                        </Item>\r\n                    </Item.Group>\r\n                </Segment>\r\n            </Segment>\r\n            <Segment clearing attached='bottom'>\r\n                {activity.isHost?(\r\n                    <>\r\n                        <Button color={activity.isCancelled?'green':'red'}\r\n                            floated='left'\r\n                            basic\r\n                            content={activity.isCancelled?'Re-activate Activity':'Cancel Activity'}\r\n                            onClick={cancelActivityToggle}\r\n                            loading={loading}\r\n                        />\r\n                        <Button as={Link} to={`/manage/${activity.id}`} \r\n                        disabled={activity.isCancelled}\r\n                        color='orange' floated='right'>\r\n                        Manage Event\r\n                    </Button>\r\n                    </>\r\n                ):activity.isGoing?(\r\n                    <Button loading={loading} onClick={updateAttendance}>Cancel attendance</Button>\r\n                ):(\r\n                    <Button color='teal' loading={loading} \r\n                    onClick={updateAttendance}\r\n                    disabled={activity.isCancelled}\r\n                    >Join Activity</Button>\r\n                )\r\n            }\r\n\r\n\r\n\r\n            </Segment>\r\n        </Segment.Group>\r\n    )\r\n})\r\n","import React from 'react'\r\nimport { Segment, List, Label, Item, Image } from 'semantic-ui-react'\r\nimport { Link } from 'react-router-dom'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Activity } from '../../../app/models/activity'\r\n\r\ninterface Props{\r\n    activity:Activity;\r\n}\r\nexport default observer(function ActivityDetailSidebar ({activity: {attendees, host}}:Props) {\r\n    if(!attendees) return null;\r\n    return (\r\n        <>\r\n            <Segment\r\n                textAlign='center'\r\n                style={{ border: 'none' }}\r\n                attached='top'\r\n                secondary\r\n                inverted\r\n                color='teal'\r\n            >\r\n                {attendees.length} {attendees.length===1? 'Person' : 'People'} going\r\n            </Segment>\r\n            <Segment attached>\r\n                <List relaxed divided>\r\n                    {attendees.map(attendee=>(\r\n                    <Item style={{ position: 'relative' }} key={attendee.username}>\r\n                    {attendee.username===host?.username &&\r\n                    <Label\r\n                        style={{ position: 'absolute' }}\r\n                        color='orange'\r\n                        ribbon='right'\r\n                    >\r\n                        Host\r\n                    </Label>}\r\n                    <Image size='tiny' src={attendee.image || '/assets/user.png'} />\r\n                    <Item.Content verticalAlign='middle'>\r\n                        <Item.Header as='h3'>\r\n                            <Link to={`/profiles/${attendee.username}`}>{attendee.displayName}</Link>\r\n                        </Item.Header>\r\n                        {attendee.following && \r\n                        <Item.Extra style={{ color: 'orange' }}>Following</Item.Extra>}\r\n                    </Item.Content>\r\n                </Item>\r\n\r\n                    ))}\r\n                </List>\r\n            </Segment>\r\n        </>\r\n\r\n    )\r\n})\r\n\r\n\r\n\r\n\r\n","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport LoadingComponent from \"../../../app/layout/LoadingComponent\";\r\nimport { useStore } from \"../../../app/store/Store\";\r\nimport ActivityDetailChat from \"./ActivityDetailChat\";\r\nimport ActivityDetailInfo from \"./ActivityDetailedInfo\";\r\nimport ActivityDetailHeader from \"./ActivityDetailHeader\";\r\nimport ActivityDetailSidebar from \"./ActivityDetailSidebar\";\r\n\r\n\r\nexport default observer( function ActivityDetails()\r\n{\r\n  const {activityStore}=useStore();\r\n  const{selectedActivity:activity, loadActivity, loadingInitials, clearSelectedActivity}=activityStore;\r\n\r\n  const {id}=useParams<{id:string}>();\r\n  useEffect(()=>{\r\n    if(id) loadActivity(id);\r\n\r\n    return()=>clearSelectedActivity();\r\n  },[id, loadActivity, clearSelectedActivity])\r\n  if(loadingInitials || !activity) return <LoadingComponent/>;\r\n    return(\r\n      <Grid>\r\n        <Grid.Column width={10}>\r\n          <ActivityDetailHeader activity={activity}/>\r\n          <ActivityDetailInfo activity={activity}/>\r\n          <ActivityDetailChat activityId={activity.id}/>\r\n        </Grid.Column>\r\n        <Grid.Column width={6}>\r\n          <ActivityDetailSidebar activity={activity }/>\r\n        </Grid.Column>\r\n      </Grid>\r\n    )\r\n})","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Button, Header, Icon, Segment } from \"semantic-ui-react\";\r\n\r\nexport default function NotFound()\r\n{\r\n    return(\r\n        <Segment placeholder>\r\n            <Header icon>\r\n                <Icon name='search'/>\r\n                OOps not found\r\n            </Header>\r\n            <Segment.Inline>\r\n                <Button as={Link} to='/activities' primary>Go to Activities</Button>\r\n            </Segment.Inline>\r\n        </Segment>\r\n    )\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Modal } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../store/Store\";\r\n\r\nexport default observer (function ModalContainer(){\r\n    const {modalStore}=useStore();\r\n\r\n    return (\r\n        <Modal open={modalStore.model.open} onClose={modalStore.closeModel} size='mini'>\r\n            <Modal.Content>\r\n                {modalStore.model.body}\r\n            </Modal.Content>\r\n        </Modal>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React, { SyntheticEvent, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Grid, Header, Image, Tab, TabProps } from \"semantic-ui-react\";\r\nimport { UserActivity } from \"../../app/models/Profile\";\r\nimport { useStore } from \"../../app/store/Store\";\r\nimport { format } from 'date-fns';\r\n\r\nconst panes=[\r\n    {menuItem:'Future Events', pane:{key:'future'}},\r\n    {menuItem:'Past Events', pane:{key:'past'}},\r\n    {menuItem:'Hosting', pane:{key:'hosting'}},\r\n\r\n]\r\nexport default observer(function ProfileActivities(){\r\n    const {profileStore}=useStore();\r\n\r\n    const {loadUserActivities, profile, loadingActivities, userActivities}=profileStore;\r\n    useEffect(()=>{\r\n        loadUserActivities(profile!.username);\r\n    },[loadUserActivities, profile]);\r\n    const handleTabChange=(e: SyntheticEvent, data:TabProps)=>{\r\n        loadUserActivities(profile!.username, panes[data.activeIndex as number].pane.key);\r\n    };\r\n\r\n    return (\r\n        <Tab.Pane loading={loadingActivities}>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated='left' icon='calender' content={'Activities'}/>\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    <Tab panes={panes}\r\n                    menu={{secondary: true, pointing:true}}\r\n                    onTabChange={(e,data)=>handleTabChange(e,data)}\r\n                    />\r\n                    <br/>\r\n                    <Card.Group itemsPerRow={4}>\r\n                        {userActivities.map((activity:UserActivity)=>(\r\n                            <Card\r\n                            as={Link}\r\n                            to={`/activities/${activity.id}`}\r\n                            key={activity.id}>\r\n                                <Image src={`/assets/categoryImages/${activity.category}.jpg`}\r\n                                    style={{minHeight:100, objectFit:'cover'}}/>\r\n                                    <Card.Content>\r\n                                        <Card.Header textAlign=\"center\">{activity.title}</Card.Header>\r\n                                        <Card.Meta textAlign=\"center\">\r\n                                            <div>{format(new Date(activity.date), 'do LLL')}</div>\r\n                                            <div>{format(new Date(activity.date), 'h:mm a')}</div>\r\n                                        </Card.Meta>\r\n                                    </Card.Content>\r\n                            </Card>\r\n                        ))}\r\n\r\n                    </Card.Group>\r\n\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Card, Grid, Header, Tab } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/store/Store\";\r\nimport ProfileCard from \"./ProfileCard\";\r\n\r\nexport default observer(function ProfileFollowing() {\r\n    const {profileStore}=useStore();\r\n    const {profile, followings, loadingFollowings, activeTab} = profileStore;\r\n\r\n\r\n\r\n    return(\r\n        <Tab.Pane loading={loadingFollowings}>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated=\"left\" icon='user' content={activeTab===3?`People following ${profile?.displayName}`:`People ${profile?.displayName} following`}/>\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    <Card.Group itemsPerRow={4}>\r\n                        {followings.map(profile=> (\r\n                            <ProfileCard key={profile.username} profile={profile}/>\r\n                        ))}\r\n                    </Card.Group>\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n    )\r\n})","import React, {useCallback} from 'react'\r\nimport {useDropzone} from 'react-dropzone'\r\nimport { Header, Icon } from 'semantic-ui-react';\r\ninterface Props{\r\n    setFiles:(files:any)=>void;\r\n}\r\nexport default function PhotoWidgetDropZone({setFiles}:Props) {\r\n    const dzStyles={\r\n        border: 'dashed 3 px #eee',\r\n        borderColor:'#eee',\r\n        borderRadius: '5px',\r\n        paddingTop:'30px',\r\n        textAlign:'center' as 'center',\r\n        height:200\r\n    }\r\n\r\n    const dzActive={\r\n        borderColor:'green'\r\n    }\r\n\r\n  const onDrop = useCallback(acceptedFiles => {\r\n    setFiles(acceptedFiles.map((file:any)=> Object.assign(file,{\r\n        preview:URL.createObjectURL(file)\r\n    })))\r\n  }, [setFiles])\r\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n  return (\r\n    <div {...getRootProps()} style={isDragActive?{...dzStyles, ...dzActive}: dzStyles}>\r\n      <input {...getInputProps()} />\r\n        <Icon name='upload' size='huge'/>\r\n        <Header content='Drop file here'/>\r\n    </div>\r\n  )\r\n}","import React from \"react\";\r\nimport { Cropper } from \"react-cropper\";\r\n\r\ninterface Props{\r\n    imagePreview:string;\r\n    setCropper: (cropper: Cropper) => void;\r\n}\r\nexport default function PhotoWidgetCropper(\r\n    {imagePreview, setCropper}:Props\r\n)\r\n{\r\n    return(\r\n        <Cropper\r\n            src={imagePreview}\r\n            style={{height:200, width:'100%'}}\r\n            initialAspectRatio={1}\r\n            aspectRatio={1}\r\n            preview='.img-preview'\r\n            guides={false}\r\n            viewMode={1}\r\n            autoCropArea={1}\r\n            background={false}\r\n            onInitialized={cropper => setCropper(cropper)}\r\n        />\r\n    )\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Header } from \"semantic-ui-react\";\r\nimport PhotoWidgetDropZone from \"./PhotoWidgetDropZone\";\r\nimport PhotoWidgetCropper from \"./PhotoWidgetCropper\";\r\nimport { Button } from \"semantic-ui-react\";\r\n\r\ninterface Props{\r\n    loading:boolean,\r\n    uploadPhoto:(file:Blob)=>void;\r\n}\r\nexport default function PhotoUploadWidget({loading, uploadPhoto}:Props)\r\n{\r\n    const [files, setFiles]=useState<any>([]);\r\n    const [cropper, setCropper]=useState<Cropper>();\r\n\r\n    function onCrop(){\r\n        if(cropper){\r\n            cropper.getCroppedCanvas().toBlob(blob=>uploadPhoto(blob!));\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        return ()=>{\r\n            files.forEach((file:any)=>URL.revokeObjectURL(file.preview))\r\n        }\r\n    },[files]);\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={4}>\r\n                <Header sub color='teal' content='Step 1 - Add Photo'/>\r\n                <PhotoWidgetDropZone setFiles={setFiles}/>\r\n            </Grid.Column>\r\n            <Grid.Column width={1}/>\r\n            <Grid.Column width={4}>\r\n                <Header sub color='teal' content='Step 2 - Resize Photo'/>\r\n                {files && files.length > 0 && (\r\n                    <PhotoWidgetCropper setCropper={setCropper} imagePreview={files[0].preview} />\r\n                )}\r\n            </Grid.Column>\r\n            <Grid.Column width={1}/>            \r\n            <Grid.Column width={4}>\r\n                <Header sub color='teal' content='Step 3 - Preview & Upload'/>\r\n                {files && files.length>0 &&\r\n                <>\r\n                    <div className=\"img-preview\" style={{minHeight:200, overflow:'hidden'}} />                  \r\n                    <Button.Group widths={2}>\r\n                        <Button loading={loading} onClick={onCrop} positive icon='check'/>\r\n                        <Button disabled={loading} onClick={()=>setFiles([])} icon='close'/>\r\n                    </Button.Group>\r\n                </>}\r\n\r\n            </Grid.Column>                        \r\n        </Grid>\r\n    )\r\n}","import { observer } from \"mobx-react-lite\";\r\nimport React, { SyntheticEvent, useState } from \"react\";\r\nimport { Button, Card, Grid, Header, Image, Tab } from \"semantic-ui-react\";\r\nimport PhotoUploadWidget from \"../../app/common/imageUpload/PhotoUploadWidget\";\r\nimport { Photo, Profile } from \"../../app/models/Profile\";\r\nimport { useStore } from \"../../app/store/Store\";\r\n\r\ninterface Props{\r\n    profile:Profile;\r\n}\r\nexport default observer(function ProfilePhotos({profile}:Props){\r\n    const {profileStore:{isCurrentUser, uploadPhoto, uploading, loading, setMainPhoto, deletePhoto}}=useStore();\r\n    const [addPhotoMode, setAddPhotoMode]=useState(false);\r\n    const [target, setTarget]=useState('');\r\n    function handlePhotoUpload(file:Blob){\r\n        uploadPhoto(file).then(()=>setAddPhotoMode(false));\r\n    }\r\n\r\n    function handleSetMainPhoto(photo: Photo, e: SyntheticEvent<HTMLButtonElement>){\r\n        setTarget(e.currentTarget.name);\r\n        setMainPhoto(photo);\r\n    }\r\n\r\n    function handleDeletePhoto(photo:Photo, e: SyntheticEvent<HTMLButtonElement>)\r\n    {\r\n        setTarget(e.currentTarget.name);\r\n        deletePhoto(photo);\r\n    }\r\n    return(\r\n        <Tab.Pane>\r\n            <Grid>\r\n                <Grid.Column width={16}>\r\n                    <Header floated='left' icon='image' content='Photos'/>\r\n                    {isCurrentUser &&(\r\n                        <Button floated='right' basic\r\n                        content={addPhotoMode?'Cancel':'Add Photo'}\r\n                        onClick={()=>setAddPhotoMode(!addPhotoMode)}/>\r\n                    )}\r\n                </Grid.Column>\r\n                <Grid.Column width={16}>\r\n                    {addPhotoMode?(\r\n                        <PhotoUploadWidget uploadPhoto={handlePhotoUpload} loading={uploading}/>\r\n                    ):\r\n                    (\r\n                    <Card.Group itemsPerRow={5}>\r\n                        {profile.photos?.map(photo=>(\r\n                        <Card key={photo.id}>\r\n                            <Image src={photo.url} />\r\n                            {isCurrentUser &&(\r\n                                <Button.Group fluid widths={2}>\r\n                                    <Button basic color='green' content='Main' name={'main'+photo.id} disabled={photo.isMain}\r\n                                    loading={target=== 'main' + photo.id && loading} onClick={e=>handleSetMainPhoto(photo,e)}/>\r\n\r\n                                    <Button basic color='red' icon='trash'\r\n                                    loading={target===photo.id && loading}\r\n                                    onClick={e=>handleDeletePhoto(photo, e)}\r\n                                    disabled={photo.isMain}\r\n                                    name={photo.id}\r\n                                    />\r\n                                </Button.Group>\r\n                            )}\r\n                        </Card>\r\n                        ))}\r\n                    </Card.Group>\r\n                    )}\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Tab.Pane>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Tab } from \"semantic-ui-react\";\r\nimport { Profile } from \"../../app/models/Profile\";\r\nimport { useStore } from \"../../app/store/Store\";\r\nimport ProfileActivities from \"./ProfileActivities\";\r\nimport ProfileFollowings from \"./ProfileFollowings\";\r\nimport ProfilePhotos from \"./ProfilePhotos\";\r\n\r\ninterface Props{\r\n    profile:Profile;\r\n}\r\n\r\nexport default observer( function ProfileContent({profile}:Props){\r\n    const {profileStore}=useStore();\r\n    const panes=[\r\n        {menuItem:'About', render:()=><Tab.Pane>About Content</Tab.Pane>},\r\n        {menuItem:'Photos', render:()=><Tab.Pane><ProfilePhotos profile={profile}/></Tab.Pane>},\r\n        {menuItem:'Events', render:()=><ProfileActivities/>},\r\n        {menuItem:'Followers', render:()=><ProfileFollowings/>},\r\n        {menuItem:'Following', render:()=><ProfileFollowings/>},\r\n    ];\r\n\r\n    return(\r\n        <Tab\r\n            menu={{fluid:true, vertical:true}}\r\n            menuPosition='right'\r\n            panes={panes}\r\n            onTabChange={(e, data)=>profileStore.setActiveTab(data.activeIndex)}\r\n        />\r\n        )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React from \"react\";\r\nimport { Divider, Grid, Header, Item,Segment, Statistic } from \"semantic-ui-react\";\r\nimport { Profile } from \"../../app/models/Profile\";\r\nimport FollowButton from \"./FollowButton\";\r\ninterface Props{\r\n    profile:Profile;\r\n}\r\nexport default observer( function ProfileHeader({profile}:Props){\r\n    return(\r\n        <Segment>\r\n            <Grid>\r\n                <Grid.Column width={12}>\r\n                    <Item.Group>\r\n                        <Item>\r\n                            <Item.Image avatar size=\"small\" src={profile.image || `/assets/user.png`}/>\r\n                            <Item.Content verticalAlign=\"middle\">\r\n                                <Header as='h1' content={profile.displayName}/>\r\n                            </Item.Content>\r\n                        </Item>\r\n                    </Item.Group>\r\n                </Grid.Column>\r\n                <Grid.Column width={4}>\r\n                    <Statistic.Group widths={2}>\r\n                        <Statistic label='Followers' value={profile.followerCount}/>\r\n                        <Statistic label='Following' value={profile.followingCount}/>\r\n                    </Statistic.Group>\r\n                    <Divider/>\r\n                    <FollowButton profile={profile}/>\r\n                </Grid.Column>\r\n            </Grid>\r\n        </Segment>\r\n    )\r\n})","import { observer } from \"mobx-react-lite\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Grid } from \"semantic-ui-react\";\r\nimport { useStore } from \"../../app/store/Store\";\r\nimport ProfileContent from \"./ProfileContent\";\r\nimport ProfileHeader from \"./ProfileHeader\";\r\n\r\nexport default observer( function ProfilePage(){\r\n    const {username}=useParams<{username:string}>();\r\n    const {profileStore}=useStore();\r\n    const {loadProfile, profile, setActiveTab}=profileStore;\r\n\r\n    useEffect(()=>{\r\n        loadProfile(username!);\r\n        return()=>{\r\n            setActiveTab(0);\r\n        }\r\n    },[loadProfile, username,setActiveTab]);\r\n    return (\r\n        <Grid>\r\n            <Grid.Column width={16}>\r\n                {profile &&\r\n                <>\r\n                <ProfileHeader profile={profile}/>\r\n                <ProfileContent profile={profile}/>\r\n                </>}\r\n            </Grid.Column>\r\n        </Grid>\r\n    )\r\n});","import React from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { useStore } from \"../store/Store\";\r\n\r\ninterface Props{\r\n    children:any;\r\n}\r\nexport default function PrivateRoute({children}:Props){\r\n    const {userStore:{isLoggedIn}}=useStore();\r\n    return isLoggedIn ? children : <Navigate replace to='/'/>;\r\n        \r\n}","import React, { Fragment, useEffect } from 'react';\nimport { Container } from 'semantic-ui-react';\nimport NavBar from './navbar';\nimport ActivityDashboard from '../../features/activities/dashboard/ActivityDashboard';\nimport { observer } from 'mobx-react-lite';\nimport { Route, Routes, useLocation } from 'react-router-dom';\nimport HomePage from '../../features/home/HomePage';\nimport ActivityForm from '../../features/activities/form/ActivityForm';\nimport ActivityDetails from '../../features/activities/details/ActivityDetails';\nimport { ToastContainer } from 'react-toastify';\nimport NotFound from '../../features/error/NotFound';\nimport LoginForm from '../../features/users/LoginForm';\nimport { useStore } from '../store/Store';\nimport LoadingComponent from './LoadingComponent';\nimport ModalContainer from '../common/modal/modalContainer';\nimport ProfilePage from '../../features/Profiles/ProfilePage';\nimport PrivateRoute from './PrivateRoute';\nfunction App() {\n  const location=useLocation();\n  const {commonStore, userStore}=useStore();\n  \n  useEffect(()=>{\n    if(commonStore.token){\n      userStore.getUser().finally(()=>commonStore.setAppLoaded());\n    }\n    else\n    {\n      userStore.getFacebookLoginStatus().then(()=>commonStore.setAppLoaded());\n    }\n  },[commonStore, userStore])\n  if(location)\n  console.log(location.key);\n\nif(!commonStore.appLoaded) return <LoadingComponent content='Loading App...'/>\n\n  return (\n    <Fragment>\n      <NavBar/>\n      <ToastContainer position='bottom-right' hideProgressBar/>\n      <ModalContainer/>\n      <Container style={{marginTop:'7em'}}>\n        <Routes>\n        <Route path='/' element={<HomePage/>}/>\n        <Route path='/activities' element={<PrivateRoute><ActivityDashboard/></PrivateRoute>}/>   \n        <Route path='/activities/:id' element={<PrivateRoute><ActivityDetails/></PrivateRoute>}/>        \n        <Route path='/createactivity' element={<PrivateRoute><ActivityForm key={location.key}/></PrivateRoute>}/>   \n        <Route path='/profiles/:username' element={<PrivateRoute><ProfilePage/></PrivateRoute>}/>\n        <Route path='/manage/:id' element={<PrivateRoute><ActivityForm key={location.key} /></PrivateRoute>}/>\n        <Route path='/login' element={<LoginForm/>}/>\n        <Route path='*' element={<NotFound/>}/>     \n        </Routes>\n      </Container>\n    </Fragment>\n  );\n}\n\nexport default observer(App);\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop(){\r\n    const {pathname}=useLocation();\r\n    useEffect(()=>{\r\n        window.scrollTo(0,0);\r\n    },[pathname]);\r\n\r\n    return null;\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport 'react-calendar/dist/Calendar.css';\nimport 'react-toastify/dist/ReactToastify.min.css';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport './app/layout/styles.css';\nimport App from './app/layout/App';\nimport reportWebVitals from './reportWebVitals';\nimport { store, StoreContext } from './app/store/Store';\nimport { BrowserRouter } from 'react-router-dom';\nimport {createBrowserHistory} from 'history';\nimport ScrollToTop from './app/layout/ScrollToTop';\n\nexport const history=createBrowserHistory();\nReactDOM.render(\n  <StoreContext.Provider value={store}>\n    <BrowserRouter>\n    <ScrollToTop/>\n    <App />\n    </BrowserRouter>\n  </StoreContext.Provider>\n,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}